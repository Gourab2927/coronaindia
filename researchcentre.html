<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!--Bootstrap -->
    <link href="media/bootstrap/bootstrap-4.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!--Bootstrap -->
    <!-- <link rel="stylesheet" type="text/css" href="https://www.highcharts.com/media/com_demo/css/highslide.css" /> -->
    <link rel="stylesheet" type="text/css" href="media/misc/css/researchGate.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@900&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h4 style="font-family: 'Roboto Slab', serif;padding: 18px;color: blue;">CORONA INDIA</h4>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div id="aboutSlider" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <!--most right rotating-->
                            <img src="revolution.png" class="rightRotatingImg rotateImg" />
                            <h6 class="rightRotatingImgText">Predective <br/> Analysis</h6>
                            <!--Ends Here -->

                            <!--second right rotating-->
                            <img src="revolution.png" class="secondRightRotatingImg rotateImg" />
                            <h6 class="secondRightRotatingImgText">Nueral <br/> Networks </h6>
                            <!--Ends Here -->

                            <!--left rotating-->
                            <img src="revolution.png" class="leftRotatingImg rotateImg" />
                            <h6 class="leftRotatingImgText">Artificial <br/> Intelligence </h6>
                            <!--Ends Here -->


                            <img class="d-block w-100" src="white_bk.png" alt="First slide">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <figure class="highcharts-figure">
                    <div id="container" style="border-right: 1px  black;" class="chartContainer">
                        <div id="loading1" class="waiting">
                            <img src="loading.gif"></img>
                        </div>
                    </div>
                    <p class="highcharts-description">
                        Chart showing data loaded dynamically. The individual data points can be clicked to display more information.
                    </p>
                </figure>
            </div>
            <div class="col-6">
                <figure class="highcharts-figure">
                    <div id="container2" class="chartContainer">
                        <div id="loading2" class="waiting">
                            <img src="loading.gif"></img>
                        </div>
                    </div>
                    <p class="highcharts-description">
                        Chart showing data loaded dynamically. The individual data points can be clicked to display more information.
                    </p>
                </figure>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-12">
                <figure class="highcharts-figure">
                    <div id="container3" class="chartContainer">
                        <div id="loading3" class="waiting">
                            <img src="loading.gif"></img>
                        </div>
                    </div>
                    <p class="highcharts-description">
                        Chart showing data loaded dynamically. The individual data points can be clicked to display more information.
                    </p>
                </figure>
            </div>
        </div>
    </div>



    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <!-- <script src="media/misc/js/researchGate.js" /> -->

    <!-- Additional files for the Highslide popup effect -->
    <!-- <script src="https://www.highcharts.com/media/com_demo/js/highslide-full.min.js"></script>
    <script src="https://www.highcharts.com/media/com_demo/js/highslide.config.js" charset="utf-8"></script> -->
    <script>
        function cases(actual_arr, predict_arr, date_arr) {
            Highcharts.chart('container', {
                chart: {
                    type: 'line'
                },
                title: {
                    text: 'Corona Cases Prediction'
                },
                xAxis: {
                    categories: date_arr
                },
                yAxis: {
                    title: {
                        text: 'Number of Cases'
                    }
                },
                series: [{
                    name: 'Prediction',
                    data: predict_arr
                }, {
                    name: 'Actual',
                    data: actual_arr
                }, ],
            });
        }

        function cured(actual_arr, predict_arr, date_arr) {
            Highcharts.chart('container2', {
                chart: {
                    type: 'line'
                },
                title: {
                    text: 'Cured Patients Prediction'
                },
                xAxis: {
                    categories: date_arr
                },
                yAxis: {
                    title: {
                        text: 'Patients Cured'
                    }
                },
                series: [{
                    name: 'Prediction',
                    data: predict_arr
                }, {
                    name: 'Actual',
                    data: actual_arr
                }, ],
            });
        }

        function deaths(actual_arr, predict_arr, date_arr) {
            Highcharts.chart('container3', {
                chart: {
                    type: 'line'
                },
                title: {
                    text: 'Corona Deaths Prediction'
                },
                xAxis: {
                    categories: date_arr
                },
                yAxis: {
                    title: {
                        text: 'Number of Death'
                    }
                },
                series: [{
                    name: 'Prediction',
                    data: predict_arr
                }, {
                    name: 'Actual',
                    data: actual_arr
                }, ],
            });
        }

        $(document).ready(function() {
            console.log("now running");
            var myurl = 'https://elcomrades-corona-api.herokuapp.com/getdata?n=7&cap=30000&key=whyshoulditellyou';
            $.ajax({
                type: "get",
                url: myurl,
                dataType: 'json',
                success: function(results) {
                    console.log("results are", results);
                    $(".waiting").hide();
                    cases(results["cases"]["actual"], results["cases"]["predict"], results["cases"]["date"]);
                    cured(results["cured"]["actual"], results["cured"]["predict"], results["cured"]["date"]);
                    deaths(results["deaths"]["actual"], results["deaths"]["predict"], results["deaths"]["date"]);
                },
                error: function(request, error) {
                    console.log("There is an error. " + error);
                },
            });

            // $('#aboutSlider').carousel({
            //     interval: 2000
            // })

        });
    </script>

</body>

</html>